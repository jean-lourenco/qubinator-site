<html>
    <head>
        <title>
            Qubinator
        </title>

        <meta lang="pt-BR"/>
        <meta charset="UTF-8"/>

        <script src="cli.js"></script>
        <style>
            .wrapper {
                text-align: center;
            }

            .center-div {
                display: inline-block;
            }

            .left-panel {
                float: left;
            }

            .center-panel {
                float: left;
                margin: 0px 20px 0px 20px;
            }

            .choice-panel {
                padding: 15px 30px 15px 30px;
                border: 2px outset black; 
                margin: 5px 0px 5px 0px;
                border-radius: 5px;
                cursor: pointer;
            }

            .choice-panel:hover {
                border-style: groove;
            }

            .query {
                width: 100%;
                margin: 10px 0px 10px 0px;
                padding: 5px 5px 5px 10px;
                border-radius: 10px;
            }

        </style>
    </head>
    <body>
        <header style="text-align: center">
            <h1>the QUBINATOR</h1>
        </header>
        <div class="wrapper">
            <div class="center-div">
                <div class="left-panel">
                    <div class="choice-panel" onclick="select('3d')">
                        <input 
                            type="radio" 
                            name="type" 
                            onchange="updateResult()" 
                            id="3d" 
                            value="3d" 
                            style="cursor: pointer;" 
                            checked />
                        <label style="cursor: pointer;">3D</label>
                    </div>
                    <div class="choice-panel" onclick="select('2dsimple')">
                        <input 
                            type="radio" 
                            name="type" 
                            onchange="updateResult()" 
                            id="2dsimple" 
                            value="2dsimple" 
                            style="cursor: pointer;" />
                        <label style="cursor: pointer;">2D (Simples)</label>
                    </div>
                    <div class="choice-panel" onclick="select('2dfull')">
                        <input 
                            type="radio" 
                            name="type" 
                            onchange="updateResult()" 
                            id="2dfull" 
                            value="2dfull" 
                            style="cursor: pointer;" />
                        <label style="cursor: pointer;">2D (Completo)</label>
                    </div>

                    <br><br><br>

                    <div class="choice-panel" onclick="toggle('reddit')">
                        <input 
                            type="checkbox" 
                            id="reddit" 
                            style="cursor: pointer;" 
                            onchange="updateResult();" />
                        <label style="cursor: pointer;">Para Reddit?</label>
                    </div>
                    <div class="choice-panel" onclick="toggle('caixaalta')">
                        <input 
                            type="checkbox" 
                            id="caixaalta" 
                            style="cursor: pointer;" 
                            onchange="updateResult()" />
                        <label style="cursor: pointer;">Para Caixa-Alta?</label>
                    </div>
                    <div class="choice-panel">
                        <button>Copiar para Área de Transferência</button>
                    </div>
                </div>

                <div class="center-panel">
                    <input 
                        type="text" 
                        class="query" 
                        id="query"
                        onkeyup="updateResult(this)"
                        placeholder="Sua Palavra será Qubinatorizada!" />
                    <br>
                    <textarea id="result" rows="35" cols="35"></textarea>
                </div>
            </div>
        </div>

        <script>
            let result = document.getElementById('result');
            let src = document.getElementById('query');
            let reddit = document.getElementById('reddit');
            let caixaAlta = document.getElementById('caixaalta');

            function updateResult(e) {
                let type = document.querySelector('input[name="type"]:checked').value;
                let queryValue = query.value;

                if (caixaAlta.checked) {
                    queryValue = queryValue.toUpperCase();
                }
                
                let txt;
                if (type == '2dsimple') 
                    txt = Quber.to2dSimple(queryValue);
                else if (type == '2dfull')
                    txt = Quber.to2dFull(queryValue);
                else 
                    txt = Quber.to3d(queryValue);

                if (reddit.checked) {
                    var lines = txt.split('\n');
                    
                    for (let i = 0; i < lines.length; i++) {
                        lines[i] = "    " + lines[i];
                    }
                    txt = lines.join('\n');
                }

                result.value = txt;
            }

            function select(vlr) {
                document.getElementById(vlr).checked = true;
                updateResult();
            }

            function toggle(vlr) {
                var el = document.getElementById(vlr);
                el.checked = !el.checked;
                updateResult();
            }

        </script>
    </body>
</html>
